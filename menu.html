<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CaféMisu – Menu</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

<style>
    body {
        background-color: #F9F5F1;
        font-family: 'Playfair Display', serif;
        color: #A87555;
        margin: 0;
        padding: 0 20px 200px;
        line-height: 1.65;
        overflow-x: hidden;
    }

    h1 {
        text-align: center;
        margin-top: 42px;
        margin-bottom: 8px;
        font-size: 2.7rem;
        font-weight: 700;
    }

    #back-home {
        display:block;
        text-align:center;
        margin-top:10px;
        margin-bottom:20px;
        text-decoration:none;
        font-size:1.1rem;
        font-weight:600;
        color:#A87555;
        opacity:0.75;
        transition:0.2s;
    }

    h2 {
        margin-top: 45px;
        margin-bottom: 15px;
        font-size: 1.9rem;
        border-bottom: 2px solid #A87555;
        display: inline-block;
        padding-bottom: 5px;
    }

    .item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 14px 0;
        border-bottom: 1px solid rgba(168,117,85,0.25);
        position: relative;
    }

    .name {
        font-weight: 600;
        max-width: 60%;
        font-size: 1.2rem;
    }

    .price {
        margin-right: 14px;
        font-size: 1.2rem;
        opacity: 0.85;
    }

    .add-btn {
        width: 46px;
        height: 46px;
        border-radius: 50%;
        background: #fff;
        border: 2px solid #A87555;
        color: #A87555;
        font-size: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition:0.2s;
    }

    .add-btn:hover {
        transform: scale(1.12);
        background:#F3E5DB;
    }

    .plus-one {
        position: absolute;
        color: #A87555;
        font-size: 1.2rem;
        font-weight: bold;
        animation: floatUp .8s ease forwards;
        pointer-events: none;
        left: 70%;
        top: -5px;
    }

    @keyframes floatUp {
        0% { opacity: 0; transform: translateY(10px); }
        30% { opacity: 1; }
        100% { opacity: 0; transform: translateY(-20px); }
    }

    /* BOUTON FLOTTANT 100% FONCTIONNEL */
    #floating-cart-btn {
        position: fixed;
        bottom: 22px;
        right: 22px;
        width: 70px;
        height: 70px;
        padding: 0;
        border: none;
        background: none;
        cursor: pointer;
        z-index: 9999;
    }

    #cart-count {
        position: absolute;
        top: -6px;
        right: -6px;
        width: 26px;
        height: 26px;
        background: white;
        border-radius: 50%;
        border: 2px solid #A87555;
        color: #A87555;
        font-size: 14px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #cart-sheet {
        position: fixed;
        bottom: -100%;
        left: 0;
        width: 100%;
        height: 72%;
        background: rgba(255,255,255,0.55);
        backdrop-filter: blur(16px);
        box-shadow: 0 -7px 25px rgba(0,0,0,0.18);
        border-radius: 22px 22px 0 0;
        transition: .35s cubic-bezier(.25,.46,.45,.94);
        z-index: 9998;
        padding: 20px;
        overflow-y:auto;
        overflow-x:hidden;
    }

    #sheet-header {
        font-size:1.5rem;
        font-weight:700;
        display:flex;
        justify-content:space-between;
        margin-bottom:15px;
        position:sticky;
        top:0;
        background:rgba(255,255,255,0.3);
        padding:10px 0;
        backdrop-filter:blur(12px);
    }

    .cart-item {
        display:flex;
        justify-content:space-between;
        align-items:center;
        padding:14px 0;
        border-bottom:1px solid rgba(168,117,85,0.25);
        padding-right:12px; /* MARGE FIXÉE */
    }

    .qty-controls {
        display:flex;
        gap:12px;
        align-items:center;
    }

    .qty-btn {
        width:34px;
        height:34px;
        border-radius:50%;
        border:2px solid #A87555;
        background:white;
        font-size:22px;
        font-weight:600;
        color:#A87555;
        cursor:pointer;
    }

    .total-line {
        margin-top:20px;
        text-align:right;
        font-size:1.6rem;
        font-weight:700;
    }

    #send-whatsapp {
        width:100%;
        padding:16px;
        background:#A87555;
        color:white;
        border-radius:12px;
        border:none;
        font-size:1.3rem;
        font-weight:600;
        margin-top:14px;
        cursor:pointer;
    }

    #popup-overlay {
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.55);
        display:none;
        justify-content:center;
        align-items:center;
        z-index:20000;
    }

    #popup {
        background:white;
        width:88%;
        max-width:420px;
        padding:25px;
        border-radius:18px;
        box-shadow:0 8px 25px rgba(0,0,0,0.22);
        color:#A87555;
    }

    input {
        width:100%;
        padding:12px;
        margin-top:14px;
        border:2px solid #A87555;
        border-radius:8px;
        font-size:1rem;
        background:#FDFBF9;
        color:#A87555;
    }

    #confirm-order {
        margin-top:20px;
        width:100%;
        padding:14px;
        background:#A87555;
        color:white;
        border:none;
        border-radius:10px;
        font-size:1.2rem;
        cursor:pointer;
    }
</style>

</head>
<body>

<h1>Menu CaféMisu</h1>
<a id="back-home" href="index.html">← Retour à l’accueil</a>

<!-- ========= MENU COMPLET ========== -->

<h2>Les frappés</h2>
<div class="item"><span class="name">Latté Frappé</span><span class="price">4.500</span><div class="add-btn" onclick="addToCart('Latté Frappé',4500,this)">+</div></div>
<div class="item"><span class="name">Matcha Frappé</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Matcha Frappé',5500,this)">+</div></div>
<div class="item"><span class="name">Caramel Frappé</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Caramel Frappé',5500,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Les matchas</h2>
<div class="item"><span class="name">Iced Matcha Latte</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Iced Matcha Latte',5500,this)">+</div></div>
<div class="item"><span class="name">Coconut Matcha Cloud</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Coconut Matcha Cloud',5500,this)">+</div></div>
<div class="item"><span class="name">Strawberry Matcha</span><span class="price">6.500</span><div class="add-btn" onclick="addToCart('Strawberry Matcha',6500,this)">+</div></div>
<div class="item"><span class="name">Mango Matcha</span><span class="price">6.500</span><div class="add-btn" onclick="addToCart('Mango Matcha',6500,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Les lattés</h2>
<div class="item"><span class="name">Iced Americano</span><span class="price">4.000</span><div class="add-btn" onclick="addToCart('Iced Americano',4000,this)">+</div></div>
<div class="item"><span class="name">Spanish Iced Latte</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Spanish Iced Latte',5500,this)">+</div></div>
<div class="item"><span class="name">Iced Coffee Latte</span><span class="price">4.500</span><div class="add-btn" onclick="addToCart('Iced Coffee Latte',4500,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Boissons chaudes</h2>
<div class="item"><span class="name">Café au lait</span><span class="price">3.500</span><div class="add-btn" onclick="addToCart('Café au lait',3500,this)">+</div></div>
<div class="item"><span class="name">Thé</span><span class="price">1.500</span><div class="add-btn" onclick="addToCart('Thé',1500,this)">+</div></div>
<div class="item"><span class="name">Chocolat chaud</span><span class="price">3.500</span><div class="add-btn" onclick="addToCart('Chocolat chaud',3500,this)">+</div></div>
<div class="item"><span class="name">Espresso</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Espresso',1000,this)">+</div></div>
<div class="item"><span class="name">Americano</span><span class="price">2.000</span><div class="add-btn" onclick="addToCart('Americano',2000,this)">+</div></div>
<div class="item"><span class="name">Cappuccino</span><span class="price">3.500</span><div class="add-btn" onclick="addToCart('Cappuccino',3500,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Les spéciaux</h2>
<div class="item"><span class="name">Caramel Machiatto</span><span class="price">5.000</span><div class="add-btn" onclick="addToCart('Caramel Machiatto',5000,this)">+</div></div>
<div class="item"><span class="name">Iced Chocolate</span><span class="price">5.000</span><div class="add-btn" onclick="addToCart('Iced Chocolate',5000,this)">+</div></div>
<div class="item"><span class="name">UBE Latte</span><span class="price">7.000</span><div class="add-btn" onclick="addToCart('UBE Latte',7000,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Boissons gazeuses</h2>
<div class="item"><span class="name">Coca</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Coca',1000,this)">+</div></div>
<div class="item"><span class="name">Sprite</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Sprite',1000,this)">+</div></div>
<div class="item"><span class="name">Fanta</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Fanta',1000,this)">+</div></div>
<div class="item"><span class="name">Ice Tea</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Ice Tea',1000,this)">+</div></div>
<div class="item"><span class="name">Cody’s</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Cody’s',1000,this)">+</div></div>
<div class="item"><span class="name">Redbull</span><span class="price">2.000</span><div class="add-btn" onclick="addToCart('Redbull',2000,this)">+</div></div>
<div class="item"><span class="name">Perrier</span><span class="price">2.000</span><div class="add-btn" onclick="addToCart('Perrier',2000,this)">+</div></div>
<div class="item"><span class="name">Eau</span><span class="price">1.000</span><div class="add-btn" onclick="addToCart('Eau',1000,this)">+</div></div>

<h2>Spéciaux du weekend</h2>
<div class="item"><span class="name">Tiramisu Cake Latte</span><span class="price">7.000</span><div class="add-btn" onclick="addToCart('Tiramisu Cake Latte',7000,this)">+</div></div>
<div class="item"><span class="name">Tiramisu Cake Matcha Latte</span><span class="price">7.500</span><div class="add-btn" onclick="addToCart('Tiramisu Cake Matcha Latte',7500,this)">+</div></div>
<div class="item"><span class="name">Matcha Banana Pudding</span><span class="price">7.500</span><div class="add-btn" onclick="addToCart('Matcha Banana Pudding',7500,this)">+</div></div>
<div class="item"><span class="name">LE LATTE XXXL</span><span class="price">25.000</span><div class="add-btn" onclick="addToCart('LE LATTE XXXL',25000,this)">+</div></div>
<div class="item"><span class="name">LE MATCHA XXXL</span><span class="price">30.000</span><div class="add-btn" onclick="addToCart('LE MATCHA XXXL',30000,this)">+</div></div>
<div class="item"><span class="name">Lait végétal</span><span class="price">+1.000</span><div class="add-btn" onclick="addToCart('Lait végétal',1000,this)">+</div></div>

<h2>Tiramisu</h2>
<div class="item"><span class="name">Café</span><span class="price">4.000</span><div class="add-btn" onclick="addToCart('Tiramisu Café',4000,this)">+</div></div>
<div class="item"><span class="name">Matcha</span><span class="price">5.000</span><div class="add-btn" onclick="addToCart('Tiramisu Matcha',5000,this)">+</div></div>
<div class="item"><span class="name">Nutella</span><span class="price">5.000</span><div class="add-btn" onclick="addToCart('Tiramisu Nutella',5000,this)">+</div></div>
<div class="item"><span class="name">Fraise</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Tiramisu Fraise',5500,this)">+</div></div>
<div class="item"><span class="name">Spéculos</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Tiramisu Spéculos',5500,this)">+</div></div>
<div class="item"><span class="name">Ferrero</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Tiramisu Ferrero',5500,this)">+</div></div>
<div class="item"><span class="name">Bueno</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Tiramisu Bueno',5500,this)">+</div></div>
<div class="item"><span class="name">Pistache</span><span class="price">5.500</span><div class="add-btn" onclick="addToCart('Tiramisu Pistache',5500,this)">+</div></div>
<div class="item"><span class="name">Oreo</span><span class="price">5.000</span><div class="add-btn" onclick="addToCart('Tiramisu Oreo',5000,this)">+</div></div>

<!-- ========= BOTTOM SHEET ========= -->

<div id="cart-sheet">
    <div id="sheet-header">
        <span>Votre panier</span>
        <span style="cursor:pointer" onclick="closeCart()">✕</span>
    </div>

    <div id="cart-items"></div>

    <div class="total-line">Total : <span id="cart-total">0</span> FCFA</div>

    <button id="send-whatsapp" onclick="openPopup()">Commander sur WhatsApp</button>
</div>

<!-- ========= POPUP ========= -->

<div id="popup-overlay">
    <div id="popup">
        <h2>Vos informations</h2>

        <input id="fname" placeholder="Nom">
        <input id="lname" placeholder="Prénom">
        <input id="phone" placeholder="Numéro de téléphone">
        <input id="address" placeholder="Adresse de livraison">

        <button id="confirm-order" onclick="sendWhatsapp()">Valider la commande</button>
    </div>
</div>

<!-- ========= BUTTON FLOTTANT ========= -->

<button id="floating-cart-btn" onclick="openCart()">
    <img src="tiramisu-icon.png" width="70" height="70">
    <span id="cart-count">0</span>
</button>

<!-- ========= JS COMPLET ========== -->

<script>
let cart = [];

function addToCart(name,price,btn){
    let exist = cart.find(i=>i.name===name);
    if(exist){ exist.qty++; }
    else { cart.push({name,price,qty:1}); }

    updateCartCount();
    renderCartItems();

    let p=document.createElement("div");
    p.className="plus-one";
    p.innerText="+1";
    btn.parentElement.appendChild(p);
    setTimeout(()=>p.remove(),800);
}

function updateCartCount(){
    document.getElementById("cart-count").innerText =
        cart.reduce((s,i)=>s+i.qty,0);
}

function openCart(){
    document.getElementById("cart-sheet").style.bottom="0";
}

function closeCart(){
    document.getElementById("cart-sheet").style.bottom="-100%";
}

function renderCartItems(){
    let c=document.getElementById("cart-items");
    c.innerHTML="";

    cart.forEach((item,i)=>{
        c.innerHTML+=`
            <div class="cart-item">
                <span style="font-weight:600;max-width:45%">${item.name}</span>

                <div class="qty-controls">
                    <button class="qty-btn" onclick="dec(${i})">−</button>
                    <span>${item.qty}</span>
                    <button class="qty-btn" onclick="inc(${i})">+</button>
                </div>

                <span>${(item.qty*item.price).toLocaleString()} FCFA</span>
            </div>
        `;
    });

    updateTotal();
}

function inc(i){
    cart[i].qty++;
    updateCartCount();
    renderCartItems();
}

function dec(i){
    cart[i].qty--;
    if(cart[i].qty<=0){ cart.splice(i,1); }
    updateCartCount();
    renderCartItems();
}

function updateTotal(){
    document.getElementById("cart-total").innerText =
        cart.reduce((s,i)=>s+(i.price*i.qty),0).toLocaleString();
}

function openPopup(){
    if(cart.length===0){alert("Votre panier est vide.");return;}
    document.getElementById("popup-overlay").style.display="flex";
}

function sendWhatsapp(){
    let fn=document.getElementById("fname").value;
    let ln=document.getElementById("lname").value;
    let ph=document.getElementById("phone").value;
    let ad=document.getElementById("address").value;

    let msg=`Bonjour, voici ma commande :\n\n`;

    cart.forEach(i=>{
        msg+=`• ${i.name} x${i.qty} — ${(i.qty*i.price).toLocaleString()} FCFA\n`;
    });

    msg+=`\nTotal : ${cart.reduce((s,i)=>s+(i.qty*i.price),0).toLocaleString()} FCFA\n\n`;
    msg+=`Nom : ${fn}\nPrénom : ${ln}\nTéléphone : ${ph}\nAdresse : ${ad}\n`;

    window.location.href=`https://wa.me/2250716699999?text=${encodeURIComponent(msg)}`;
}
</script>

</body>
</html>
